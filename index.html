<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YALI Alumni Summit 2025 - Inscription Volontaire</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300..800&display=swap" rel="stylesheet">
    <style>
        :root {
            --yali-blue: #00A3E0;
            --yali-red: #E31837;
            --yali-dark-blue: #005678;
        }

        body {
            background-color: #f8f9fa;
            font-family: 'Funnel Display', sans-serif;
        }

        .card {
            border: none;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }

        .card-header {
            background: var(--yali-blue);
            padding: 1.5rem;
            border-bottom: none;
        }

        .header-content {
            position: relative;
            padding-top: 20px;
        }

        .logo-container {
            width: 120px;
            height: 120px;
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 50%;
            padding: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .logo-container img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .btn-primary {
            background-color: var(--yali-blue);
            border-color: var(--yali-blue);
        }

        .btn-primary:hover {
            background-color: var(--yali-dark-blue);
            border-color: var(--yali-dark-blue);
        }

        .btn-outline-primary {
            color: var(--yali-blue);
            border-color: var(--yali-blue);
        }

        .btn-outline-primary:hover {
            background-color: var(--yali-blue);
            border-color: var(--yali-blue);
        }

        .text-primary {
            color: var(--yali-blue) !important;
        }

        .form-control:focus {
            border-color: var(--yali-blue);
            box-shadow: 0 0 0 0.25rem rgba(0, 163, 224, 0.25);
        }

        .committee-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            height: 100%;
        }

        .committee-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .form-floating > .form-control:focus ~ label,
        .form-floating > .form-control:not(:placeholder-shown) ~ label {
            color: var(--yali-blue);
        }

        .summit-info {
            color: #ffffff;
            font-weight: 600;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Funnel Display', sans-serif;
            font-weight: 700;
        }

        .card-header h2 {
            font-weight: 800;
        }

        @media (max-width: 768px) {
            .logo-container {
                width: 80px;
                height: 80px;
                top: -40px;
            }
        }
    </style>
</head>
<body>
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header text-white text-center">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="logo-container mb-3">
                                <img src="https://res.cloudinary.com/baroka/image/upload/v1736814367/01._YAS_Benin_2025_Blanc_V_ffyomp.png" alt="YALI Alumni Summit Logo">
                            </div>
                        </div>
                        <div class="header-content">
                            <h2 class="mb-2 mt-4">Devenez Volontaire</h2>
                            <p class="mb-1 summit-info">Alumni Summit 2025 - Bénin</p>
                            <p class="small text-white-50 px-3" style="font-size: 1.1rem;">Inspirer l'Afrique de Demain : Leadership inclusif, Paix, Innovation et Technologie pour une Croissance Durable</p>
                        </div>
                    </div>

                    <div class="card-body p-4">
                        <div class="row row-cols-3 g-2 mb-4 text-center">
                            <div class="col">
                                <div class="bg-light rounded p-2">
                                    <i class="bi bi-people text-primary fs-4 d-block mb-1"></i>
                                    <small class="d-block">Communauté</small>
                                </div>
                            </div>
                            <div class="col">
                                <div class="bg-light rounded p-2">
                                    <i class="bi bi-star text-primary fs-4 d-block mb-1"></i>
                                    <small class="d-block">Expérience</small>
                                </div>
                            </div>
                            <div class="col">
                                <div class="bg-light rounded p-2">
                                    <i class="bi bi-heart text-primary fs-4 d-block mb-1"></i>
                                    <small class="d-block">Impact</small>
                                </div>
                            </div>
                        </div>

                        <form id="submit-to-google-sheet" class="needs-validation" novalidate>
                            <div class="row g-3">
                                <div class="col-12">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="name" name="name" placeholder="Votre nom" required>
                                        <label for="name">Nom et Prénom</label>
                                        <div class="invalid-feedback">
                                            Veuillez entrer votre nom complet
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating mb-3">
                                        <input type="email" class="form-control" id="email" name="email" placeholder="nom@exemple.com" required>
                                        <label for="email">Adresse Email</label>
                                        <div class="invalid-feedback">
                                            Veuillez entrer une adresse email valide
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating mb-3">
                                        <input type="tel" class="form-control" id="phone" name="phone" placeholder="+229 01 67 15 39 74" required>
                                        <label for="phone">Numéro de téléphone</label>
                                        <div class="invalid-feedback">
                                            Veuillez entrer votre numéro de téléphone
                                        </div>
                                        <small class="form-text text-muted">
                                            <i class="bi bi-phone text-success me-1"></i>Avec l'indicatif (ex: +229 01 67 15 39 74)
                                        </small>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating mb-3">
                                        <input type="tel" class="form-control" id="whatsapp" name="whatsapp" placeholder="+229 01 67 15 39 74">
                                        <label for="whatsapp">Numéro WhatsApp (Optionnel)</label>
                                        <div class="invalid-feedback">
                                            Veuillez entrer un numéro WhatsApp valide
                                        </div>
                                        <small class="form-text text-muted">
                                            <i class="bi bi-whatsapp text-success me-1"></i>Laissez vide si identique au numéro de téléphone(ex: +229 67 15 39 74)
                                        </small>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="mb-4">
                                        <label class="form-label d-block mb-3">Genre</label>
                                        <div class="d-flex gap-4 justify-content-center">
                                            <div class="text-center">
                                                <input type="radio" class="btn-check" name="gender" id="male" value="male" required>
                                                <label class="btn btn-outline-primary d-flex flex-column align-items-center p-3" for="male">
                                                    <i class="bi bi-gender-male h4 mb-0 me-2"></i>
                                                    <span class="mt-2">Homme</span>
                                                </label>
                                            </div>
                                            <div class="text-center">
                                                <input type="radio" class="btn-check" name="gender" id="female" value="female" required>
                                                <label class="btn btn-outline-primary d-flex flex-column align-items-center p-3" for="female">
                                                    <i class="bi bi-gender-female h4 mb-0 me-2"></i>
                                                    <span class="mt-2">Femme</span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="invalid-feedback text-center mt-2">
                                            Veuillez sélectionner votre genre
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="mb-4">
                                        <label class="form-label mb-3">Lieu de résidence</label>
                                        <input type="text" class="form-control" name="residence" placeholder="Ville, Pays" required>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="mb-4">
                                        <label class="form-label mb-3">Êtes-vous un alumni YALI ?</label>
                                        <div class="btn-group w-100" role="group" aria-label="YALI Alumni Status">
                                            <input type="radio" class="btn-check" name="yali_alumni" id="yali_alumni_yes" value="yes" required>
                                            <label class="btn btn-outline-primary" for="yali_alumni_yes">Oui</label>

                                            <input type="radio" class="btn-check" name="yali_alumni" id="yali_alumni_no" value="no" required>
                                            <label class="btn btn-outline-primary" for="yali_alumni_no">Non</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12" id="yali_section_container" style="display: none;">
                                    <div class="mb-4">
                                        <label class="form-label mb-3">Quelle section YALI ?</label>
                                        <input type="text" class="form-control" name="yali_section" id="yali_section" placeholder="Ex: Section 8, CRL en ligne" required>
                                    </div>
                                </div>

                                <script>
                                    document.addEventListener('DOMContentLoaded', function() {
                                        const yaliAlumniYes = document.getElementById('yali_alumni_yes');
                                        const yaliAlumniNo = document.getElementById('yali_alumni_no');
                                        const yaliSectionContainer = document.getElementById('yali_section_container');
                                        const yaliSectionInput = document.getElementById('yali_section');

                                        function toggleYaliSection() {
                                            if (yaliAlumniYes.checked) {
                                                yaliSectionContainer.style.display = 'block';
                                                yaliSectionInput.required = true;
                                            } else {
                                                yaliSectionContainer.style.display = 'none';
                                                yaliSectionInput.required = false;
                                                yaliSectionInput.value = '';
                                            }
                                        }

                                        yaliAlumniYes.addEventListener('change', toggleYaliSection);
                                        yaliAlumniNo.addEventListener('change', toggleYaliSection);
                                    });
                                </script>

                                <div class="col-12">
                                    <div class="mb-4">
                                        <label class="form-label mb-3">Dans quel section souhaitez-vous travailler ?</label>
                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="finance" value="finance" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="finance">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-currency-dollar h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Finance</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Gestion financière et budgétaire de l'organisation.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Compétences en gestion financière</li>
                                                            <li>Expérience en planification budgétaire</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="mobilisation" value="mobilisation" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="mobilisation">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-people h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Mobilisation et relation Extérieur</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Développement des partenariats et mobilisation des ressources.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Développement des compétences en networking</li>
                                                            <li>Expérience en relations partenariales</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="logistique" value="logistique" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="logistique">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-truck h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Logistique</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Planification et gestion des ressources matérielles.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Compétences en gestion opérationnelle</li>
                                                            <li>Expérience en coordination logistique</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="evenementiel" value="evenementiel" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="evenementiel">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-calendar-event h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Événementiel</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Conception et organisation des événements.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Compétences en gestion de projet</li>
                                                            <li>Créativité événementielle</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="communication" value="communication" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="communication">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-megaphone h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Communication</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Stratégie de communication et relations publiques.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Développement des compétences médiatiques</li>
                                                            <li>Expérience en communication stratégique</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="communautaire" value="communautaire" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="communautaire">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-heart-fill h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Activité communnautaire</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Développement et animation des activités communautaires.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Compétences en animation sociale</li>
                                                            <li>Impact communautaire direct</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="securite" value="securite" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="securite">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-shield-check h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Sécurité Santé et Hygiène</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Garantir la sécurité et le bien-être des participants.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Compétences en gestion des risques</li>
                                                            <li>Sensibilisation aux normes de sécurité</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="scientifique" value="scientifique" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="scientifique">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-lightbulb h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Scientifique</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Recherche, innovation et développement scientifique.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Approfondissement des connaissances scientifiques</li>
                                                            <li>Opportunités de recherche</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <input type="radio" class="btn-check" name="committee" id="foire" value="foire" required>
                                                <label class="btn btn-outline-primary w-100 h-100 p-3 d-flex flex-column" for="foire">
                                                    <div class="d-flex align-items-center mb-2">
                                                        <i class="bi bi-shop h4 mb-0 me-2"></i>
                                                        <h5 class="mb-0">Foire</h5>
                                                    </div>
                                                    <p class="small text-start mb-2">Organisation et gestion des foires et expositions.</p>
                                                    <div class="small text-start">
                                                        <strong>Avantages :</strong>
                                                        <ul class="mb-0 ps-3">
                                                            <li>Expérience en organisation d'événements</li>
                                                            <li>Compétences en gestion commerciale</li>
                                                        </ul>
                                                    </div>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="invalid-feedback text-center mt-2">
                                            Veuillez sélectionner un comité
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="form-floating mb-3">
                                        <textarea class="form-control" id="message" name="message" style="height: 100px" placeholder="Je veux enrichir mon CV" required></textarea>
                                        <label for="message">Quelle est votre motivation pour cette opportunité ?</label>
                                        <div class="invalid-feedback">
                                            Veuillez partager votre motivation
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="age" required>
                                        <label class="form-check-label" for="age">
                                            Je confirme être majeur(e) (plus de 18 ans)
                                        </label>
                                        <div class="invalid-feedback">
                                            Vous devez confirmer être majeur
                                        </div>
                                    </div>

                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="consent" required>
                                        <label class="form-check-label" for="consent">
                                            J'accepte que mes données soient utilisées dans le cadre de cet événement
                                        </label>
                                        <div class="invalid-feedback">
                                            Vous devez accepter les conditions
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <button class="btn btn-primary w-100 py-3" type="submit">
                                        <i class="bi bi-send me-2"></i>Je m'inscris comme volontaire
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div class="card-footer bg-light border-0 py-5">
                        <div class="container">
                            <div class="row gy-4 align-items-center">
                                <div class="col-md-4 text-center">
                                    <div class="footer-logo mb-3">
                                        <img src="https://res.cloudinary.com/baroka/image/upload/v1736845410/Logo_BYAA_idwrpc.jpg" alt="YALI Logo" class="img-fluid" style="max-height: 80px;">
                                    </div>
                                    <h5 class="text-primary mb-2">BYAA</h5>
                                    <p class="text-muted small">Benin Yali Alumni Association</p>
                                </div>
                                
                                <div class="col-md-4">
                                    <div class="contact-info">
                                        <h6 class="text-primary mb-3">Contactez-nous</h6>
                                        <ul class="list-unstyled">
                                            <li class="mb-2">
                                                <i class="bi bi-telephone-fill text-primary me-2"></i>
                                                <span>(229) 67 15 39 74</span>
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-envelope-fill text-primary me-2"></i>
                                                <a href="mailto:beninyalialumni@gmail.com" class="text-decoration-none text-dark">
                                                    beninyalialumni@gmail.com
                                                </a>
                                            </li>
                                            <li>
                                                <i class="bi bi-geo-alt-fill text-primary me-2"></i>
                                                <span>Cotonou, Bénin</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="col-md-4">
                                    <div class="social-links text-center">
                                        <h6 class="text-primary mb-3">Suivez-nous</h6>
                                        <div class="d-flex justify-content-center gap-3">
                                            <a href="#" class="text-primary">
                                                <i class="bi bi-facebook fs-4"></i>
                                            </a>
                                            <a href="#" class="text-primary">
                                                <i class="bi bi-twitter fs-4"></i>
                                            </a>
                                            <a href="#" class="text-primary">
                                                <i class="bi bi-linkedin fs-4"></i>
                                            </a>
                                            <a href="#" class="text-primary">
                                                <i class="bi bi-instagram fs-4"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-12 text-center mt-4 pt-3 border-top">
                                    <p class="text-muted small mb-0">
                                        &copy; 2025 YALI Alumni Summit Bénin. Tous droits réservés.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
    <script>
        (() => {
            'use strict'
            
            // Custom validation functions
            const validateBeninPhoneNumber = (phoneNumber) => {
                // Benin phone number validation
                // Starts with +229, followed by 8 digits
                const beninPhoneRegex = /^\+229\d{10}$/;
                return beninPhoneRegex.test(phoneNumber);
            }

            const validateBeninEmail = (email) => {
                // Email validation specific to Benin domains
                const beninEmailRegex = /^[a-zA-Z0-9._%+-]+@(gmail\.com|yahoo\.com|hotmail\.com|outlook\.com|byaa\.bj|yali\.bj)$/;
                return beninEmailRegex.test(email);
            }

            // Add custom validation to phone number field
            const phoneInput = document.getElementById('phone');
            // phoneInput.addEventListener('input', function(event) {
            //     if (!validateBeninPhoneNumber(this.value)) {
            //         this.setCustomValidity('Veuillez entrer un numéro de téléphone béninois valide (+22901xxxxxxxx)');
            //     } else {
            //         this.setCustomValidity('');
            //     }
            // });

            // Add custom validation to email field
            const emailInput = document.getElementById('email');
            // emailInput.addEventListener('input', function(event) {
            //     if (!validateBeninEmail(this.value)) {
            //         this.setCustomValidity('Veuillez entrer une adresse email valide (domaines béninois ou courants)');
            //     } else {
            //         this.setCustomValidity('');
            //     }
            // });

            // Add custom validation to WhatsApp number field
            const whatsappInput = document.getElementById('whatsapp');
            // whatsappInput.addEventListener('input', function(event) {
            //     // If WhatsApp number is provided, validate it
            //     if (this.value.trim() !== '') {
            //         if (!validateBeninPhoneNumber(this.value)) {
            //             this.setCustomValidity('Veuillez entrer un numéro WhatsApp béninois valide (+229xxxxxxxx)');
            //         } else {
            //             this.setCustomValidity('');
            //         }
            //     } else {
            //         // If left empty, it's valid
            //         this.setCustomValidity('');
            //     }
            // });

            // Bootstrap form validation
            const forms = document.querySelectorAll('.needs-validation')
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
        })()

        const form = document.getElementById('submit-to-google-sheet');
        const scriptURL = "https://script.google.com/macros/s/AKfycbwW6WF6Ro4lkFEwqKQIkGzhnpIHkCjk9LFl8jv0olZs7JJUZ4E5rikd4SMsv1b__gUj/exec";
        form.addEventListener('submit', e => {
            e.preventDefault()
            if (!form.checkValidity()) return;

            const submitBtn = form.querySelector('button[type="submit"]');
            const originalBtnText = submitBtn.innerHTML;
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Envoi en cours...';

            const formData = new FormData(form);
            formData.append('age', document.getElementById('age').checked ? 'Yes' : 'No');
            formData.append('consent', document.getElementById('consent').checked ? 'Yes' : 'No');
            
            // Add WhatsApp number if provided
            const whatsappInput = document.getElementById('whatsapp');
            if (whatsappInput.value.trim() !== '') {
                formData.append('whatsapp', whatsappInput.value.trim());
            }

            fetch(scriptURL, { method: 'POST', body: formData })
                .then(response => {
                    const userData = {
                        name: formData.get('name'),
                        email: formData.get('email'),
                        committee: document.querySelector('input[name="committee"]:checked').value,
                        phone: formData.get('phone'),
                        whatsapp: formData.get('whatsapp') || 'Non spécifié'
                    };
                    swal({
                        title: "Merci !",
                        text: "Votre inscription a été enregistrée avec succès.",
                        icon: "success",
                        button: "D'accord"
                    });
                    form.reset();
                    form.classList.remove('was-validated');
                })
                .catch(error => {
                    swal({
                        title: "Erreur",
                        text: "Un problème est survenu. Veuillez réessayer.",
                        icon: "error",
                        button: "D'accord"
                    });
                })
                .finally(() => {
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalBtnText;
                });
        });
    </script>
</body>
</html>